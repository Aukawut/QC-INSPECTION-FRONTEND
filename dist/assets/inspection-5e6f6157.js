import{h as s,n as x,S as _,E as b,T as j,B as A,P as u,r as i,m as E,W as R}from"./index-036dc118.js";import{A as k}from"./AuthToken-b03ed466.js";import{u as v}from"./use-router-d0de84ce.js";import{L as I}from"./label-f2919946.js";import{C as L}from"./Card-0c8aa4b1.js";import{C as P}from"./Container-1491d26b.js";import{T as p}from"./TextField-c50dbb77.js";import{G as m}from"./Grid2-9186cdd7.js";function f({part:e,baseUrl:a}){const r=v(),t=s.jsx(I,{variant:"filled",color:(e==null?void 0:e.JUST_ON)==="X,Y"&&"error"||"info",sx:{zIndex:9,top:16,right:16,position:"absolute",textTransform:"uppercase"},children:e==null?void 0:e.JUST_ON}),c=s.jsx(x,{component:"img",alt:e==null?void 0:e.PART_NAME,className:"hover:scale-105 duration-300",src:(e==null?void 0:e.FILENAME)===""||(e==null?void 0:e.FILENAME)===null?"https://placehold.co/400x300/":`${a}/backend_qc_inspection/uploads/drawing/${e==null?void 0:e.FILENAME}`,sx:{top:0,width:1,height:1,objectFit:"cover",position:"absolute"}});return s.jsxs(L,{children:[s.jsxs(x,{sx:{pt:"100%",position:"relative"},children:[(e==null?void 0:e.JUST_ON)&&t,c]}),s.jsxs(_,{spacing:.5,sx:{p:3},children:[s.jsx(b,{color:"inherit",underline:"hover",variant:"subtitle2",noWrap:!0,to:`check/${e.BSNCR_PART_NO}`,children:e==null?void 0:e.BSNCR_PART_NO}),s.jsx(j,{fontSize:12,children:e==null?void 0:e.CUSTOMER_NAME})]}),s.jsx(x,{sx:{p:1},className:"flex justify-end",children:s.jsx(A,{variant:"contained",size:"small",onClick:()=>{r.push(`/check/${e.BSNCR_PART_NO}`)},children:"Check"})})]})}f.propTypes={part:u.object,baseUrl:u.string};function y(){const e="http://backend-qcinspection",[a,r]=i.useState(!0),[t,c]=i.useState([]),[N,g]=i.useState(""),[o,l]=i.useState([]),h=i.useCallback(async()=>{await E.post(`${e}/backend_qc_inspection/api`,{router:"getAllParts"}).then(n=>{n.data.status==="Ok"&&!n.data.err?(c(n.data.result),l(n.data.result),r(!1)):(c([]),l([]))})},[e]),S=n=>{const d=n.target.value;if(g(d),d.trim()==="")l(t);else{const T=t.filter(C=>C.BSNCR_PART_NO.toLowerCase().includes(d.toLowerCase()));l(T)}};return i.useEffect(()=>{h()},[h]),s.jsxs(P,{children:[s.jsx(j,{variant:"h4",sx:{mb:5},children:"Inspection"}),s.jsxs("div",{className:"flex justify-start p-2 items-center gap-x-2",children:[s.jsx("i",{className:"fa-solid fa-magnifying-glass text-[18px]"}),s.jsx(p,{size:"small",placeholder:"Search PSTH Part No.",value:N,onChange:S})]}),s.jsxs(m,{container:!0,spacing:3,children:[a?s.jsx("p",{children:"Loading ...."}):o==null?void 0:o.map(n=>s.jsx(m,{xs:12,sm:6,md:3,children:s.jsx(f,{part:n,baseUrl:e})},n.Id)),(o==null?void 0:o.length)===0&&s.jsx("div",{className:"flex justify-center mt-[1rem] w-full",children:s.jsx("p",{className:"text-[red]",children:"- Not Found -"})})]})]})}function q(){return s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(R,{children:s.jsx("title",{children:" Inspection | QC Inspection System "})}),s.jsx(y,{})]})}export{q as default};
